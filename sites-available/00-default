## rtsp nginx template
##
## WARNING!!! Do not edit this file directly
## Please COPY to new file and modify whatever you want
##

server {
  listen 80 default_server;

  server_name _;

  client_max_body_size 1g;
  client_body_buffer_size 128k;

  root /var/www/html;
  #index index.html index.htm index.nginx-debian.html;
  index index.php index.html index.htm index.nginx-debian.html;

  location / {
    try_files $uri $uri/ =404;
  }

  ## required php5-fpm
  location ~ \.php(/.*)?$ {
    include snippets/fastcgi-php.conf;
    if ( $http_x_forwarded_proto = 'https' ) { set $https_on 'on'; }
    fastcgi_param HTTPS $https_on if_not_empty;
    fastcgi_pass unix:/var/run/php5-fpm-www.sock;
  }

  #  ## required fcgiwrap
  #  location /cgi-bin/ {
  #    root /usr/lib;
  #    include fastcgi_params;
  #    fastcgi_pass unix:/var/run/fcgiwrap.socket;
  #  }

  location /server-status {
    stub_status on;
  }

  location ~ /\.(git|svn|hg|bzr|ht) {
    deny all;
  }

  access_log /var/log/nginx/access.log combined_vhost;
}

